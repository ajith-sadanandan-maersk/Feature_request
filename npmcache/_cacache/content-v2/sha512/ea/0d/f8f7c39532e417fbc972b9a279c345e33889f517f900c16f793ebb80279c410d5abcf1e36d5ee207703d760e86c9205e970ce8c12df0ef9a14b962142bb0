{"maintainers":[{"name":"lukekarrys","email":"luke@lukekarrys.com"},{"name":"isaacs","email":"i@izs.me"}],"dist-tags":{"latest":"2.0.0"},"author":{"name":"GitHub Inc."},"description":"just emit 'log' events on the process object","readme":"# proc-log\n\nEmits 'log' events on the process object which a log output listener can\nconsume and print to the terminal.\n\nThis is used by various modules within the npm CLI stack in order to send\nlog events that can be consumed by a listener on the process object.\n\n## API\n\n* `log.error(...args)` calls `process.emit('log', 'error', ...args)`\n  The highest log level.  For printing extremely serious errors that\n  indicate something went wrong.\n* `log.warn(...args)` calls `process.emit('log', 'warn', ...args)`\n  A fairly high log level.  Things that the user needs to be aware of, but\n  which won't necessarily cause improper functioning of the system.\n* `log.notice(...args)` calls `process.emit('log', 'notice', ...args)`\n  Notices which are important, but not necessarily dangerous or a cause for\n  excess concern.\n* `log.info(...args)` calls `process.emit('log', 'info', ...args)`\n  Informative messages that may benefit the user, but aren't particularly\n  important.\n* `log.verbose(...args)` calls `process.emit('log', 'verbose', ...args)`\n  Noisy output that is more detail that most users will care about.\n* `log.silly(...args)` calls `process.emit('log', 'silly', ...args)`\n  Extremely noisy excessive logging messages that are typically only useful\n  for debugging.\n* `log.http(...args)` calls `process.emit('log', 'http', ...args)`\n  Information about HTTP requests made and/or completed.\n* `log.pause()` calls `process.emit('log', 'pause')`  Used to tell\n  the consumer to stop printing messages.\n* `log.resume()` calls `process.emit('log', 'resume')`\n  Used to tell the consumer that it is ok to print messages again.\n* `log.LEVELS` an array of strings of all log method names\n\n## Examples\n\nEvery method calls `process.emit('log', level, ...otherArgs)` internally.\nSo in order to consume those events you need to do `process.on('log', fn)`.\n\n### Colorize based on level\n\nHere's an example of how to consume `proc-log` events and colorize them\nbased on level:\n\n```js\nconst chalk = require('chalk')\n\nprocess.on('log', (level, ...args) => {\n  if (level === 'error') {\n    console.log(chalk.red(level), ...args)\n  } else {\n    console.log(chalk.blue(level), ...args)\n  }\n})\n```\n\n### Pause and resume\n\n`pause` and `resume` are included so you have the ability to tell your consumer\nthat you want to pause or resume your display of logs. In the npm CLI we use\nthis to buffer all logs on init until we know the correct loglevel to display.\nBut we  also setup a second handler that writes everything to a file even if\npaused.\n\n```js\nlet paused = true\nconst buffer = []\n\n// this handler will buffer and replay logs only\n// after `procLog.resume()` is called\nprocess.on('log', (level, ...args) => {\n  if (level === 'resume') {\n    buffer.forEach((item) => console.log(...item))\n    paused = false\n    return\n  }Â \n\n  if (paused) {\n    buffer.push([level, ...args])\n  } else {\n    console.log(level, ...args)\n  }\n})\n\n// this handler will write everything to a file\nprocess.on('log', (...args) => {\n  fs.appendFileSync('debug.log', args.join(' '))\n})\n```","repository":{"type":"git","url":"git+https://github.com/npm/proc-log.git"},"bugs":{"url":"https://github.com/npm/proc-log/issues"},"license":"ISC","versions":{"2.0.0":{"name":"proc-log","version":"2.0.0","main":"lib/index.js","description":"just emit 'log' events on the process object","repository":{"type":"git","url":"git+https://github.com/npm/proc-log.git"},"author":{"name":"GitHub Inc."},"license":"ISC","scripts":{"test":"tap","snap":"tap","posttest":"npm run lint","postsnap":"eslint index.js test/*.js --fix","preversion":"npm test","postversion":"npm publish","prepublishOnly":"git push origin --follow-tags","lint":"eslint '**/*.js'","postlint":"npm-template-check","template-copy":"npm-template-copy --force","lintfix":"npm run lint -- --fix"},"devDependencies":{"@npmcli/template-oss":"^2.7.1","tap":"^15.1.6"},"engines":{"node":"^12.13.0 || ^14.15.0 || >=16"},"templateOSS":{"version":"2.7.1"},"gitHead":"adccecc2bf5e77427e3fefe826a8e5a1a57640d7","bugs":{"url":"https://github.com/npm/proc-log/issues"},"homepage":"https://github.com/npm/proc-log#readme","_id":"proc-log@2.0.0","_nodeVersion":"16.14.0","_npmVersion":"8.4.1","dist":{"integrity":"sha512-I/35MfCX2H8jBUhKN8JB8nmqvQo/nKdrBodBY7L3RhDSPPyvOHwLYNmPuhwuJq7a7C3vgFKWGQM+ecPStcvOHA==","shasum":"25f8cb346a5d08e27f2422b3ca6ba8379bcbf8ba","tarball":"https://tools-nexus.maerskdev.net/repository/npm-group-internal/proc-log/-/proc-log-2.0.0.tgz","fileCount":4,"unpackedSize":5044,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.13\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJiBWzKCRA9TVsSAnZWagAABNQP/2n7O2dda/91D8yi9H/n\n6ZteH6o1SHK2L9TLw8MN/ynojeq8yfUE9SIUyou0oRZerM7nVjd6kbw86iRz\nW021GlatUjeftWmr08JnTuXXq5vWoyXvXmDPPIe+HLYZHWQXLVPw7+zlJKij\nFe+aXqZvaUy2e+fp2UtsaAiiPRyEBppwWmAAUjwUh4OFf93qA03EG2Jw64fF\nelelb1+f9ArIZIpuZ/qcVEhZ5l0rI24OfhrQGMCMkEDLUQMzSXQvOwfN4MUg\niMczL5TKYfIYuryMQjrfVe7Vf33FxEBtaLEpOEcUO+fsdBogm9NBMmIwx2oz\nYiDZg9guqp/2faItvK+Z/0x5ySNZWMAwLOVmbn37oQBtfE3gFDthCjysT9Nq\nEx2gH9boNMs2Ti2+6GbdHLIQSA3wXGaqoFRHyWH8tUbD80We6cEUWB3TBaoQ\n45HvTeCaMIKlMZSR2twT515hwLpdUhey/yeVv/63B+F5GjdG8rCJWlBfaLjY\nhFKFKGkuIOUOeB2kqTCsetjEIoJM6ndWkZJRgLXhEuEds08kjaBwqqEC9Lqw\nr1ViUaFiuhe8JyxhfhtUFiYbJU8vdHtlEkQ0GyQ769pg7bMA8P1gNSrZdKMs\nA+P5h0mBjXVlonYny0rMCFBVOTProz00w0ck+nv2T0x2Ze5isgInYZ17SdnC\n/Ki8\r\n=1Nk3\r\n-----END PGP SIGNATURE-----\r\n"},"_npmUser":{"name":"lukekarrys","email":"luke@lukekarrys.com"},"directories":{},"maintainers":[{"name":"lukekarrys","email":"luke@lukekarrys.com"},{"name":"isaacs","email":"i@izs.me"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/proc-log_2.0.0_1644522698587_0.5470729257783982"},"_hasShrinkwrap":false},"1.0.0":{"name":"proc-log","version":"1.0.0","description":"just emit 'log' events on the process object","repository":{"type":"git","url":"git+https://github.com/npm/proc-log.git"},"author":{"name":"Isaac Z. Schlueter","email":"i@izs.me","url":"https://izs.me"},"license":"ISC","scripts":{"test":"tap","snap":"tap","posttest":"eslint index.js test/*.js","postsnap":"eslint index.js test/*.js --fix","preversion":"npm test","postversion":"npm publish","prepublishOnly":"git push origin --follow-tags"},"devDependencies":{"eslint":"^7.9.0","eslint-plugin-import":"^2.22.0","eslint-plugin-node":"^11.1.0","eslint-plugin-promise":"^4.2.1","eslint-plugin-standard":"^4.0.1","tap":"^15.0.2"},"gitHead":"a3ebf6f6588c1a89ba573b498bfdfa21b71b4aef","bugs":{"url":"https://github.com/npm/proc-log/issues"},"homepage":"https://github.com/npm/proc-log#readme","_id":"proc-log@1.0.0","_nodeVersion":"15.3.0","_npmVersion":"7.9.0","dist":{"integrity":"sha512-aCk8AO51s+4JyuYGg3Q/a6gnrlDO09NpVWePtjp7xwphcoQ04x5WAfCyugcsbLooWcMJ87CLkD4+604IckEdhg==","shasum":"0d927307401f69ed79341e83a0b2c9a13395eb77","tarball":"https://tools-nexus.maerskdev.net/repository/npm-group-internal/proc-log/-/proc-log-1.0.0.tgz","fileCount":4,"unpackedSize":3529,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.13\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJgeJdgCRA9TVsSAnZWagAAF5IP/1eNi6mGt4enqs2uTwFC\niX55NdQBWtBQ5/ctC1moeUqrkpt/i0KhosTJh0Kifb5cVBYsJHUFBJBJYdvH\nLs8CJVvMNSGt2fMHB/1Q44xNwxLHigTQ0ovqmfat1gfTCCp01WsiKL+aAJf7\np94eLHYQi5VlkgtFH23ZHuJEzGnW64Ybbsvz5lSnSxbdK2FSyUuVK3XmZAJb\n0rYvl7BTIhvZdVmfiyBnUlwUbLljUgpxeX6GX5I8RTfhbgm2QNuDjpgFDhBv\nhtsmSXpD5rKia4nDWNY/Ct0FwsVQfen6CWNk25fmw/V0Gmhdn7WiGEjXW89v\nZEtknHAjRIZ+TNK+Whc8PEEB5tPsrPZVSCgFmO+05snokGc8V0XP45rT8Fuc\nxFjLXRDZqjKpjCCMa/QMnn3wZSaCqCqsFbWwkfYXou61Ry9nPzWL1N4iMijO\nD1vQvkmxDEwmXzRzgVJeSXAJvLPOBTWmuOMmHMHlfLJCch/289/X8moniCE6\na9PkOlg1fO/3Olzrn/s+v0a391pkfvc5vF+i9AuMHLc/Q4WhfCEOGGcLEfK9\nb5LBVJqVaB1x672Xe/r9QH2SuPwx0zkLLWFZ2BvwTTQOCOyQ1W7+VrYo2YjY\nSNbf9ckyjLvWJQaebU66XScnZp+ODvJOGRd2b6U6/cFGPu7qjSH9ZFRvDgrj\ndfBQ\r\n=iZuW\r\n-----END PGP SIGNATURE-----\r\n"},"_npmUser":{"name":"isaacs","email":"i@izs.me"},"directories":{},"maintainers":[{"name":"isaacs","email":"i@izs.me"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/proc-log_1.0.0_1618515808246_0.33636671349896585"},"_hasShrinkwrap":false}},"name":"proc-log","time":{"2.0.0":"2022-02-10T19:51:38.758Z","created":"2021-04-15T19:43:28.190Z","modified":"2022-02-11T09:26:12.797Z","1.0.0":"2021-04-15T19:43:28.370Z"},"readmeFilename":"README.md","homepage":"https://github.com/npm/proc-log#readme"}