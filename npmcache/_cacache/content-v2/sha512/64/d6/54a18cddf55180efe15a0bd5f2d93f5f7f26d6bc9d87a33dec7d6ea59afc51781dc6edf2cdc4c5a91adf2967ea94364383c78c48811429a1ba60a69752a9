{"maintainers":[{"name":"mshima","email":"marceloshima@gmail.com"}],"dist-tags":{"latest":"1.3.0"},"description":"Promised out of order transform.","readme":"# p-transform\n\nPromised out of order transform.\n\n## Usage\n\nA [Transform](https://nodejs.org/api/stream.html#implementing-a-transform-stream) that uses objectMode and implements custom `_write` and `_flush` methods.\n`transform` implementation must be sync or return a promise. Callback is not supported.\n\nPromisified `pipeline` and `transform` shortcut are provided for convenience.\n\n```\nconst { PTransform, transform, pipeline } = require('p-transform');\n\nawait pipeline(\n  new PTransform({\n    transform: async file => file\n  }),\n  transform(async file => file);\n)\n```\n\n## Debug\n\nUse `DEBUG=p-transform:*` environment variable.\n\nFor custom debug name set `logName` option at PTransform constructor or `transform` argument.\n\n## License\n\nApache-2.0\n\n# API\n\n## Classes\n\n<dl>\n<dt><a href=\"#PTransform\">PTransform</a></dt>\n<dd></dd>\n</dl>\n\n## Constants\n\n<dl>\n<dt><a href=\"#pipeline\">pipeline</a></dt>\n<dd><p>Promisified pipeline</p>\n</dd>\n</dl>\n\n## Functions\n\n<dl>\n<dt><a href=\"#transform\">transform(transform, logName)</a></dt>\n<dd><p>Shortcut to create a PTransform with transform and logName.</p>\n</dd>\n<dt><a href=\"#passthrough\">passthrough(spy, logName)</a></dt>\n<dd><p>Shortcut to create a passthrough PTransform with spy and logName.</p>\n</dd>\n<dt><a href=\"#filter\">filter(filter, logName)</a></dt>\n<dd><p>Shortcut to create a filter PTransform with filter and logName.</p>\n</dd>\n</dl>\n\n<a name=\"PTransform\"></a>\n\n## PTransform\n\n**Kind**: global class\n\n- [PTransform](#PTransform)\n  - [new PTransform([options])](#new_PTransform_new)\n  - [.name(name)](#PTransform+name) ⇒ [<code>PTransform</code>](#PTransform)\n  - [.flushQueue()](#PTransform+flushQueue) ⇒\n  - [.queuedTransform(chunk, encoding)](#PTransform+queuedTransform) ⇒\n\n<a name=\"new_PTransform_new\"></a>\n\n### new PTransform([options])\n\nPTransform\n\n| Param                  | Type                  | Description                            |\n| ---------------------- | --------------------- | -------------------------------------- |\n| [options]              | <code>Object</code>   | Options object forwarded to Transform. |\n| [options.logName]      | <code>String</code>   | Custom name for logger.                |\n| [options.transform]    | <code>function</code> | Transform function.                    |\n| [options.queueOptions] | <code>Object</code>   | Options forwarded to PQueue instance.  |\n\n<a name=\"PTransform+name\"></a>\n\n### pTransform.name(name) ⇒ [<code>PTransform</code>](#PTransform)\n\nSet log name.\n\n**Kind**: instance method of [<code>PTransform</code>](#PTransform)\n**Returns**: [<code>PTransform</code>](#PTransform) - this\n\n| Param | Type                |\n| ----- | ------------------- |\n| name  | <code>String</code> |\n\n<a name=\"PTransform+flushQueue\"></a>\n\n### pTransform.flushQueue() ⇒\n\nWait for queue idle.\n\n**Kind**: instance method of [<code>PTransform</code>](#PTransform)\n**Returns**: Promise<void>\n<a name=\"PTransform+queuedTransform\"></a>\n\n### pTransform.queuedTransform(chunk, encoding) ⇒\n\nQueued transform operation.\n\n**Kind**: instance method of [<code>PTransform</code>](#PTransform)\n**Returns**: Promise\n\n| Param    | Type                |\n| -------- | ------------------- |\n| chunk    | <code>Object</code> |\n| encoding | <code>String</code> |\n\n<a name=\"pipeline\"></a>\n\n## pipeline\n\nPromisified pipeline\n\n**Kind**: global constant\n<a name=\"transform\"></a>\n\n## transform(transform, logName)\n\nShortcut to create a PTransform with transform and logName.\n\n**Kind**: global function\n\n| Param     | Type                  |\n| --------- | --------------------- |\n| transform | <code>function</code> |\n| logName   | <code>String</code>   |\n\n<a name=\"passthrough\"></a>\n\n## passthrough(spy, logName)\n\nShortcut to create a passthrough PTransform with spy and logName.\n\n**Kind**: global function\n\n| Param   | Type                  |\n| ------- | --------------------- |\n| spy     | <code>function</code> |\n| logName | <code>String</code>   |\n\n<a name=\"filter\"></a>\n\n## filter(filter, logName)\n\nShortcut to create a filter PTransform with filter and logName.\n\n**Kind**: global function\n\n| Param   | Type                  |\n| ------- | --------------------- |\n| filter  | <code>function</code> |\n| logName | <code>String</code>   |\n","repository":{"type":"git","url":"git://github.com/mshima/p-transform.git"},"bugs":{"url":"https://github.com/mshima/p-transform/issues"},"license":"Apache-2.0","versions":{"1.3.0":{"name":"p-transform","version":"1.3.0","main":"index.js","export":"index.js","bugs":{"url":"https://github.com/mshima/p-transform/issues"},"license":"Apache-2.0","engines":{"node":">=12.10.0"},"repository":{"type":"git","url":"git://github.com/mshima/p-transform.git"},"scripts":{"pretest":"prettier --check . && eslint .","test":"mocha","doc":"jsdoc2md index.js","fix":"prettier --write . && eslint . --fix"},"dependencies":{"debug":"^4.3.2","p-queue":"^6.6.2"},"devDependencies":{"eslint":"^7.26.0","eslint-plugin-import":"^2.22.1","eslint-plugin-node":"^11.1.0","eslint-plugin-promise":"^5.1.0","jsdoc-to-markdown":"^7.1.0","mocha":"^9.0.0","prettier":"^2.3.1","sinon":"^12.0.1"},"gitHead":"ce3dc73fa5bb47416774601cad1a30870f909ab9","description":"Promised out of order transform.","homepage":"https://github.com/mshima/p-transform#readme","_id":"p-transform@1.3.0","_nodeVersion":"14.18.1","_npmVersion":"8.1.1","dist":{"integrity":"sha512-UJKdSzgd3KOnXXAtqN5+/eeHcvTn1hBkesEmElVgvO/NAYcxAvmjzIGmnNd3Tb/gRAvMBdNRFD4qAWdHxY6QXg==","shasum":"2da960ba92c6a56efbe75cbd1edf3ea7b3191049","tarball":"https://tools-nexus.maerskdev.net/repository/npm-group-internal/p-transform/-/p-transform-1.3.0.tgz","fileCount":4,"unpackedSize":20582,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.13\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJh22HfCRA9TVsSAnZWagAAtqcP/21CzRbZh85d99jLA6oY\ngacvHsBnDW3Gmuh1kEElkQrmt0FABjkKazmis/8Xw7R/PB4fJ9yK22t/7oDR\nlTQiHOP7u8hOGL98FSDDjXpVkNjX0JP5DZuxbqu3SEK4rnpwrlkF+aAMzvnL\n4WPi0troxcFBI+e7ghzIeXxOxt6OwQ8QhwqVLxRU5ANwYIG0BEiyQK7dnTDX\n+OY3u2HfMj5VtCUW8pB4EgAwe29mSLr+q+4edJVFpooz/Z52gVEpTsZJD5nr\nupq5ZupcPRRCtRlYY3bxVyxck7EUPl0SGE02Kl9XozVK8K6zLkck+k0+XiPr\nu2B0jHg0SIwxzlsfXOPJg6hHVDrP9s134C1YiRIiDgbLVNSh5QSzIRI8ZkVb\nhkXBsSywMzNxWkORIGMYToufCelXiXVWoCoW0hWPoWYoOxPTB06dTZGdNyyP\n0fWgSXr/f8v/S9qeU8UvjOEojMbH9VsFeJNBmVtaZhD3AmTqtvvTxPNDdblx\nAn+YWqTf3CEpf22g5qZvofYIezrn3teMtS29UoF65LhsMmGPIheJ64swgq4H\nHTDp7zB7J6jYN72BACBYZgzf4xF7tYi7OYoWJQpAnTL3FWzBUHSIkM7EHZoA\nDAg6IgVUL6XtfnsKAeV99DDBb6OGlga1B1FZKWKdOOk2yyc6xSXdIKMSPSIv\nhMd6\r\n=qCfF\r\n-----END PGP SIGNATURE-----\r\n"},"_npmUser":{"name":"mshima","email":"marceloshima@gmail.com"},"directories":{},"maintainers":[{"name":"mshima","email":"marceloshima@gmail.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/p-transform_1.3.0_1636429541935_0.7767554732336321"},"_hasShrinkwrap":false},"1.0.0":{"name":"p-transform","version":"1.0.0","main":"index.js","export":"index.js","bugs":{"url":"https://github.com/mshima/p-transform/issues"},"license":"Apache-2.0","repository":{"type":"git","url":"git://github.com/mshima/p-transform.git"},"scripts":{"pretest":"prettier --check . && eslint .","test":"mocha","fix":"prettier --write . && eslint . --fix"},"dependencies":{"debug":"^4.3.2","p-queue":"^6.6.2"},"devDependencies":{"eslint":"^7.26.0","eslint-plugin-import":"^2.22.1","eslint-plugin-node":"^11.1.0","eslint-plugin-promise":"^5.1.0","mocha":"^9.0.0","prettier":"^2.3.1","sinon":"^12.0.1"},"gitHead":"6bb3b28bad9ecc0b55c069f18f16bb3f9399f108","description":"Promised out of order transform.","homepage":"https://github.com/mshima/p-transform#readme","_id":"p-transform@1.0.0","_nodeVersion":"14.18.1","_npmVersion":"8.1.1","dist":{"integrity":"sha512-Ls8v3AiDgYwF9IvxAHqf8Ln9Q1Wet7GoGvFiyx5XpMVF0N7pBx2UWemiG4lMEJysgItpZoV20vt2w2tfYgNOmg==","shasum":"c9d455ceb68be2c1ab4d0d8eacb7a3e2636f276e","tarball":"https://tools-nexus.maerskdev.net/repository/npm-group-internal/p-transform/-/p-transform-1.0.0.tgz","fileCount":4,"unpackedSize":14761},"_npmUser":{"name":"mshima","email":"marceloshima@gmail.com"},"directories":{},"maintainers":[{"name":"mshima","email":"marceloshima@gmail.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/p-transform_1.0.0_1636122515016_0.32969570137348914"},"_hasShrinkwrap":false},"1.1.0":{"name":"p-transform","version":"1.1.0","main":"index.js","export":"index.js","bugs":{"url":"https://github.com/mshima/p-transform/issues"},"license":"Apache-2.0","repository":{"type":"git","url":"git://github.com/mshima/p-transform.git"},"scripts":{"pretest":"prettier --check . && eslint .","test":"mocha","doc":"jsdoc2md index.js","fix":"prettier --write . && eslint . --fix"},"dependencies":{"debug":"^4.3.2","p-queue":"^6.6.2"},"devDependencies":{"eslint":"^7.26.0","eslint-plugin-import":"^2.22.1","eslint-plugin-node":"^11.1.0","eslint-plugin-promise":"^5.1.0","jsdoc-to-markdown":"^7.1.0","mocha":"^9.0.0","prettier":"^2.3.1","sinon":"^12.0.1"},"gitHead":"9f89ed21591c7de4bdd9dcae316ddec81f92cc2d","description":"Promised out of order transform.","homepage":"https://github.com/mshima/p-transform#readme","_id":"p-transform@1.1.0","_nodeVersion":"14.18.1","_npmVersion":"8.1.1","dist":{"integrity":"sha512-hi6JjyZt3fIb5RM6s54Cz5yyRwzjSYvBxFDCBRe/ekhWGQJH837RtN0OtkAxggNG0ebpmqrLSlatPtLEpUSw4Q==","shasum":"40931d15e64cee22d4235f6fc1dfba827ad6d6d8","tarball":"https://tools-nexus.maerskdev.net/repository/npm-group-internal/p-transform/-/p-transform-1.1.0.tgz","fileCount":4,"unpackedSize":17056},"_npmUser":{"name":"mshima","email":"marceloshima@gmail.com"},"directories":{},"maintainers":[{"name":"mshima","email":"marceloshima@gmail.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/p-transform_1.1.0_1636132671456_0.9711033469537755"},"_hasShrinkwrap":false},"1.2.0":{"name":"p-transform","version":"1.2.0","main":"index.js","export":"index.js","bugs":{"url":"https://github.com/mshima/p-transform/issues"},"license":"Apache-2.0","repository":{"type":"git","url":"git://github.com/mshima/p-transform.git"},"scripts":{"pretest":"prettier --check . && eslint .","test":"mocha","doc":"jsdoc2md index.js","fix":"prettier --write . && eslint . --fix"},"dependencies":{"debug":"^4.3.2","p-queue":"^6.6.2"},"devDependencies":{"eslint":"^7.26.0","eslint-plugin-import":"^2.22.1","eslint-plugin-node":"^11.1.0","eslint-plugin-promise":"^5.1.0","jsdoc-to-markdown":"^7.1.0","mocha":"^9.0.0","prettier":"^2.3.1","sinon":"^12.0.1"},"gitHead":"1221865933cd5bb79d8b4c119730288ec31cb83b","description":"Promised out of order transform.","homepage":"https://github.com/mshima/p-transform#readme","_id":"p-transform@1.2.0","_nodeVersion":"16.13.0","_npmVersion":"8.1.1","dist":{"integrity":"sha512-FtuSF5RB0UFHPawWyHVU3z3QdRfNIVbdwQ6iwGQl1ixCKszVhxax0JAgmBbM+UpwDIYm2i1MWyiLDyJqm8Gwmw==","shasum":"d13b76b96c5bf179b2146d0f62b3228496424e7c","tarball":"https://tools-nexus.maerskdev.net/repository/npm-group-internal/p-transform/-/p-transform-1.2.0.tgz","fileCount":4,"unpackedSize":18542},"_npmUser":{"name":"mshima","email":"marceloshima@gmail.com"},"directories":{},"maintainers":[{"name":"mshima","email":"marceloshima@gmail.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/p-transform_1.2.0_1636199425360_0.9331254339470212"},"_hasShrinkwrap":false}},"name":"p-transform","time":{"1.3.0":"2021-11-09T03:45:42.093Z","created":"2021-11-05T14:28:35.015Z","modified":"2022-02-04T05:31:41.505Z","1.0.0":"2021-11-05T14:28:35.181Z","1.1.0":"2021-11-05T17:17:51.623Z","1.2.0":"2021-11-06T11:50:25.513Z"},"readmeFilename":"README.md","homepage":"https://github.com/mshima/p-transform#readme"}