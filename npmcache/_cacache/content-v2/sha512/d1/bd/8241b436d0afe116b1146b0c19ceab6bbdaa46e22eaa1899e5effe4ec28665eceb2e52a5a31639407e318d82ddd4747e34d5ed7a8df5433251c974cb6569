{"maintainers":[{"email":"fritzy@github.com","name":"fritzy"},{"email":"darcy@darcyclarke.me","name":"darcyclarke"},{"email":"ruyadorno@hotmail.com","name":"ruyadorno"},{"email":"quitlahok@gmail.com","name":"nlf"},{"email":"gar+npm@danger.computer","name":"gar"},{"email":"luke@lukekarrys.com","name":"lukekarrys"}],"license":"ISC","keywords":["npm","oss"],"dist-tags":{"latest":"1.0.1"},"versions":{"1.0.0":{"name":"@npmcli/package-json","version":"1.0.0","description":"Programmatic API to update package.json","main":"lib/index.js","scripts":{"preversion":"npm test","postversion":"npm publish","prepublishOnly":"git push origin --follow-tags","snap":"tap","test":"tap","npmclilint":"npmcli-lint","lint":"npm run npmclilint -- \"lib/*.*js\" \"test/*.*js\"","lintfix":"npm run lint -- --fix","posttest":"npm run lint --","postsnap":"npm run lintfix --"},"keywords":["npm","oss"],"author":{"name":"GitHub Inc."},"license":"ISC","devDependencies":{"@npmcli/lint":"^1.0.1","tap":"^15.0.9"},"dependencies":{"json-parse-even-better-errors":"^2.3.1"},"gitHead":"f62d8c63acec185f577a3525352d139b4eab0f28","_id":"@npmcli/package-json@1.0.0","_nodeVersion":"16.3.0","_npmVersion":"7.15.1","dist":{"integrity":"sha512-fGcgENGZDivJeH44gSm3DXOrvxQyRmLh2e6yfOyqI2KblSOo+i+m04MTLhjfZ4eqzMUB9HVBuVSlgs8idlcEug==","shasum":"74a63b9a472a5a493d8441803769fa4dff9119d5","tarball":"https://tools-nexus.maerskdev.net/repository/npm-group-internal/@npmcli/package-json/-/package-json-1.0.0.tgz","fileCount":7,"unpackedSize":11077,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.13\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJg0nEaCRA9TVsSAnZWagAAJwAP/0mS2gYS84XUHa/1i+TF\nQite4hFnB8RikjOu6mCjfcjMEMyiufCSunfjqLzvNsPwqgRBhr3uI0hzMtN0\n0/Y6pMsPH8GOJ270VFwwTIpyvFD95DdYKIY4bxpcM061y1cF5GlDr8hcEQ7i\n0RCsWG5kpcRe9Z0zY0fPCL/yMLIzR0UNLaTyk96J1tuWOWC88j0pSCR0VuK1\nJrjN2LQq730WWL788TjLA6/s6vx5sPiuC2GWW1fO32axCrxeVgO3jTyzLSiF\nfKAXUe2wnYKY2ml9964f+8jlnarj4bc2Y/oV0QFEkOXX5whh0liLRRuzoUJX\n+tHl2oGIZQmdIZGshG48FZgj6WpDq9XrByGfRTRx3uqZSL3+WGk4QTcChdzE\nkUcQs4Y/eXOhupf5vpp8xbxM7GxVsbjL4UIZywgLmZlGd40FOTwbge3HlI7+\n6ZDO/Gs0VAzM0wBL00hDzgrRcfrRiN29p3wIeQR24G00/LeHd/24jXZVkTwG\nCIpC6qYFE7RSaTKFCx6vogTxmGSxmwQUp4WRokwmqz2Cnba/6ruXVMWPh82S\no+ezzEN81owfy+QTk2CfdaLNr5AZ+fg0eGrRa+HgSaVHhvSrJ0exZEJGGIbY\n39+hvXd4lPJOdb1o0ebhBQFCW6rnLaMfZWaa/C/sb43z0EAqgXIsCpcBdBSN\nrsqj\r\n=fI4K\r\n-----END PGP SIGNATURE-----\r\n"},"_npmUser":{"name":"ruyadorno","email":"ruyadorno@hotmail.com"},"directories":{},"maintainers":[{"name":"lukekarrys","email":"luke@lukekarrys.com"},{"name":"gimli01","email":"gimli01@github.com"},{"name":"gar","email":"gar+npm@danger.computer"},{"name":"isaacs","email":"i@izs.me"},{"name":"darcyclarke","email":"darcy@darcyclarke.me"},{"name":"ruyadorno","email":"ruyadorno@hotmail.com"},{"name":"nlf","email":"quitlahok@gmail.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/package-json_1.0.0_1624404250421_0.3274632041267709"},"_hasShrinkwrap":false},"1.0.1":{"name":"@npmcli/package-json","version":"1.0.1","description":"Programmatic API to update package.json","main":"lib/index.js","scripts":{"preversion":"npm test","postversion":"npm publish","prepublishOnly":"git push origin --follow-tags","snap":"tap","test":"tap","npmclilint":"npmcli-lint","lint":"npm run npmclilint -- \"lib/*.*js\" \"test/*.*js\"","lintfix":"npm run lint -- --fix","posttest":"npm run lint --","postsnap":"npm run lintfix --"},"keywords":["npm","oss"],"author":{"name":"GitHub Inc."},"license":"ISC","devDependencies":{"@npmcli/lint":"^1.0.1","tap":"^15.0.9"},"dependencies":{"json-parse-even-better-errors":"^2.3.1"},"gitHead":"51fc9c583b6af6eb2c775efb2101a15ad24e651a","_id":"@npmcli/package-json@1.0.1","_nodeVersion":"16.3.0","_npmVersion":"7.15.1","dist":{"integrity":"sha512-y6jnu76E9C23osz8gEMBayZmaZ69vFOIk8vR1FJL/wbEJ54+9aVG9rLTjQKSXfgYZEr50nw1txBBFfBZZe+bYg==","shasum":"1ed42f00febe5293c3502fd0ef785647355f6e89","tarball":"https://tools-nexus.maerskdev.net/repository/npm-group-internal/@npmcli/package-json/-/package-json-1.0.1.tgz","fileCount":7,"unpackedSize":11887,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.13\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJg02CmCRA9TVsSAnZWagAAou0P/RkMDFmRLeu723CHaapz\nM1cmfwYje9/PqRFG7mIPXX87v920P739PaNwHdmgIGgVwBqX1Hymre1ahxEs\ncTymj6MEKIa8UksseUWTVzViTFlTWLdLpypOKB2Fqn4Hkoc4xtVySMmkieiv\nAAM6Z/bpTsg9/DBwch1jQPE5sCTwzinnvhqdSP08neMbsK6QvwX5mAR4pXWV\n0gHwIJu6N5Dv8qUet3PJ3nwIKUugidsPWGPLJvrKaYZy8KcIGdRqbOB+MczN\nWYCVMb5R/qV7mY6chasatYoLKaxwl/nQ41neLLHV+Dlp6iyarFpVnUOpP7Rv\n3CmoFeKoxg7416w+wV9QWr4fGskNd5OgCDvZPy4ai4FJ0ZhWdx5StbsTsxwk\nPi/RFOA673K192i+ikwdyV9wkmcdzskK3dlTxJUtD1a4UE+AYKfqZBEGf7eN\nE8W9ePEsZDEG9hbpeMklVPpvmMAyBjJG9tk1b719fi3HiUCiv9Eq0nQy4rOt\nSd+ukTr8fijdFdhY45NGOr7EmQkvVWQijILc6jPYrH+FjXZnwhwdZEfGqQ5I\nnyD8NAmopJ3fE55I46iZ7EPMdhuXI79L0aremQnqQA+eHCYLB1w37rjrSb2/\ny/nGrwdsKo8e+86w99+h2sys39qB49eCzkki8XXnsJJruOWwpAccO02hWZLD\nO/UZ\r\n=4jfo\r\n-----END PGP SIGNATURE-----\r\n"},"_npmUser":{"name":"ruyadorno","email":"ruyadorno@hotmail.com"},"directories":{},"maintainers":[{"name":"lukekarrys","email":"luke@lukekarrys.com"},{"name":"gimli01","email":"gimli01@github.com"},{"name":"gar","email":"gar+npm@danger.computer"},{"name":"isaacs","email":"i@izs.me"},{"name":"darcyclarke","email":"darcy@darcyclarke.me"},{"name":"ruyadorno","email":"ruyadorno@hotmail.com"},{"name":"nlf","email":"quitlahok@gmail.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/package-json_1.0.1_1624465573618_0.49627158540953276"},"_hasShrinkwrap":false}},"author":{"name":"GitHub Inc."},"name":"@npmcli/package-json","description":"Programmatic API to update package.json","readme":"# @npmcli/package-json\n\n[![npm version](https://img.shields.io/npm/v/@npmcli/package-json)](https://www.npmjs.com/package/@npmcli/package-json)\n[![Build Status](https://img.shields.io/github/workflow/status/npm/package-json/node-ci)](https://github.com/npm/package-json)\n\nProgrammatic API to update `package.json` files. Updates and saves files the\nsame way the **npm cli** handles them.\n\n## Install\n\n`npm install @npmcli/package-json`\n\n## Usage:\n\n```js\nconst PackageJson = require('@npmcli/package-json')\nconst pkgJson = await PackageJson.load(path)\n// $ cat package.json\n// {\n//   \"name\": \"foo\",\n//   \"version\": \"1.0.0\",\n//   \"dependencies\": {\n//     \"a\": \"^1.0.0\",\n//     \"abbrev\": \"^1.1.1\"\n//   }\n// }\n\npkgJson.update({\n  dependencies: {\n    a: '^1.0.0',\n    b: '^1.2.3',\n  },\n  workspaces: [\n    './new-workspace',\n  ],\n})\n\nawait pkgJson.save()\n// $ cat package.json\n// {\n//   \"name\": \"foo\",\n//   \"version\": \"1.0.0\",\n//   \"dependencies\": {\n//     \"a\": \"^1.0.0\",\n//     \"b\": \"^1.2.3\"\n//   }\n// }\n```\n\n## API:\n\n### `constructor(path)`\n\nCreates a new instance of `PackageJson`.\n\n- `path`: `String` that points to the folder from where to read the\n`package.json` from\n\n---\n\n### `async PackageJson.load()`\n\nLoads the `package.json` at location determined in the `path` option of\nthe constructor.\n\n### Example:\n\nLoads contents of the `package.json` file located at `./`:\n\n```js\nconst PackageJson = require('@npmcli/package-json')\nconst pkgJson = new PackageJson('./')\nawait pkgJson.load()\n```\n\nThrows an error in case the `package.json` file is missing or has invalid\ncontents.\n\n---\n\n### **static** `async PackageJson.load(path)`\n\nConvenience static method that returns a new instance and loads the contents of\nthe `package.json` file from that location.\n\n- `path`: `String` that points to the folder from where to read the\n`package.json` from\n\n### Example:\n\nLoads contents of the `package.json` file located at `./`:\n\n```js\nconst PackageJson = require('@npmcli/package-json')\nconst pkgJson = await PackageJson.load('./')\n```\n\n---\n\n### `PackageJson.update(content)`\n\nUpdates the contents of the `package.json` with the `content` provided.\n\n- `content`: `Object` containing the properties to be updated/replaced in the\n`package.json` file.\n\nSpecial properties like `dependencies`, `devDependencies`,\n`optionalDependencies`, `peerDependencies` will have special logic to handle\nthe update of these options, such as deduplications.\n\n### Example:\n\nAdds a new script named `new-script` to your `package.json` `scripts` property:\n\n```js\nconst PackageJson = require('@npmcli/package-json')\nconst pkgJson = await PackageJson.load('./')\npkgJson.update({\n  scripts: {\n    ...pkgJson.content.scripts,\n    'new-script': 'echo \"Bom dia!\"'\n  }\n})\n```\n\n**NOTE:** When working with dependencies, it's important to provide values for\nall known dependency types as the update logic has some interdependence in\nbetween these properties.\n\n### Example:\n\nA safe way to add a `devDependency` AND remove all peer dependencies of an\nexisting `package.json`:\n\n```js\nconst PackageJson = require('@npmcli/package-json')\nconst pkgJson = await PackageJson.load('./')\npkgJson.update({\n  dependencies: pkgJson.content.dependencies,\n  devDependencies: {\n    ...pkgJson.content.devDependencies,\n    foo: '^foo@1.0.0',\n  },\n  peerDependencies: {},\n  optionalDependencies: pkgJson.content.optionalDependencies,\n})\n```\n\n---\n\n### **get** `PackageJson.content`\n\nGetter that retrieves the normalized `Object` read from the loaded\n`package.json` file.\n\n### Example:\n\n```js\nconst PackageJson = require('@npmcli/package-json')\nconst pkgJson = await PackageJson.load('./')\npkgJson.content\n// -> {\n//   name: 'foo',\n//   version: '1.0.0'\n// }\n```\n\n---\n\n### `async PackageJson.save()`\n\nSaves the current `content` to the same location used when initializing\nthis instance.\n\n<br />\n\n## Related\n\nWhen you make a living out of reading and writing `package.json` files, you end\nup with quite the amount of packages dedicated to it, the **npm cli** also\nuses:\n\n- [read-package-json-fast](https://github.com/npm/read-package-json-fast) reads\nand normalizes `package.json` files the way the **npm cli** expects it.\n- [read-package-json](https://github.com/npm/read-package-json) reads and\nnormalizes more info from your `package.json` file. Used by `npm@6` and in\n`npm@7` for publishing.\n\n## LICENSE\n\n[ISC](./LICENSE)\n\n","time":{"created":"2021-06-22T23:24:10.147Z","modified":"2022-02-04T05:31:46.852Z","1.0.0":"2021-06-22T23:24:10.542Z","1.0.1":"2021-06-23T16:26:13.768Z"},"readmeFilename":"README.md"}